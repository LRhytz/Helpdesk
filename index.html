<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Help Desk</title>
  <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>

  <!-- Logo -->
  <img src="Images/Oracle.png" alt="My downloaded image" class="top-left">

  <!-- Help Section with Search Bar -->
  <div class="help-section">
    <h2>What can we help you with?</h2>
    <div class="search-container">
        <img src="Icons/search.png" alt="Search Icon" class="search-icon">
        <input type="text" id="search-bar" placeholder="Search..." onkeyup="searchFunction()">
    </div>
</div>

  <!-- Main Title 1: Working Instructions -->
  <div class="main-title" onclick="toggleSubTopics('subtopics-1', 'arrow-1')">
      <img src="Icons/information-pamphlet.png" class="icon">
      <span>Working Instructions <span id="arrow-1" class="dropdown-arrow">▼</span></span>
  </div>
  <div class="subtopics-container" id="subtopics-1">
      <ul>
          <!-- Receivables Dropdown -->
          <li>
            <a href="#" onclick="toggleSubTopics('receivables-subtopics', 'arrow-receivables'); event.stopPropagation();">
              Receivables <span id="arrow-receivables" class="dropdown-arrow">▼</span>
            </a>
            <ul class="nested-subtopics" id="receivables-subtopics">
              <li><a href="pdfs/How to Approve AR Adjustments .pdf" target="_blank">How to Approve AR Adjustments</a></li>
              <li><a href="pdfs/How to Create AR Transation Type and Receipt Activity.pdf" target="_blank">How to Create AR Transaction Type and Receipt Activity</a></li>
              <li><a href="pdfs/How to Interface AR Invoices.pdf" target="_blank">How to Interface AR Invoices</a></li>
              <li><a href="pdfs/How to Interface AR Pay Modes.pdf" target="_blank">How to Interface AR Pay Modes</a></li>
              <li><a href="pdfs/How to Interface Customer.pdf" target="_blank">How to Interface Customer</a></li>
              <li><a href="pdfs/How to Interface MISC Receipt.pdf" target="_blank">How to Interface MISC Receipt</a></li>
              <li><a href="pdfs/How to Interface SCD Refund.pdf" target="_blank">How to Interface SCD Refund</a></li>
              <li><a href="pdfs/How to Interface Standard Receipt.pdf" target="_blank">How to Interface Standard Receipt</a></li>
            </ul>
          </li>

          <!-- Payables Dropdown -->
          <li>
            <a href="#" onclick="toggleSubTopics('payables-subtopics', 'arrow-payables'); event.stopPropagation();">
              Payables <span id="arrow-payables" class="dropdown-arrow">▼</span>
            </a>
            <ul class="nested-subtopics" id="payables-subtopics">
              <li><a href="pdfs/Delegating PR Approval.pdf" target="_blank">Delegating PR Approval</a></li>
              <li><a href="pdfs/APPROVING AR ADJUSTMENTS.pdf" target="_blank">Approving AR Adjustments</a></li>
              <li><a href="pdfs/how-to-set-up-a-supplier.pdf" target="_blank">How to setup a supplier</a></li>
              <li><a href="pdfs/lodging-and-communication-allowance.pdf" target="_blank">Lodging and Communication Allowance</a></li>
              <li><a href="pdfs/How to Book a Debit Memo.pdf" target="_blank">How to Book a Debit Memo</a></li>
              <li><a href="pdfs/How to Book a Prepayment.pdf" target="_blank">How to Book a Prepayment</a></li>
              <li><a href="pdfs/How to Book a Standard Invoice .pdf" target="_blank">How to Book a Standard Invoice</a></li>
              <li><a href="pdfs/How to Book an Expense Report.pdf" target="_blank">How to Book an Expense Report</a></li>
              <li><a href="pdfs/How to Interface AP Invoice.pdf" target="_blank">How to Interface AP Invoice</a></li>
              <li><a href="pdfs/How to Interface Non-Supplier (Non-Trade).pdf" target="_blank">How to Interface Non-Supplier (Non-Trade)</a></li>
              <li><a href="pdfs/How to Interface Supplier (Trade).pdf" target="_blank">How to Interface Supplier (Trade)</a></li>
              <li><a href="pdfs/How to Prepare a Prepayment.pdf" target="_blank">How to Prepare a Prepayment</a></li>
              <li><a href="pdfs/How to Prepare a Refund.pdf" target="_blank">How to Prepare a Refund</a></li>
              <li><a href="pdfs/How to Prepare an Online Payment .pdf" target="_blank">How to Prepare an Online Payment</a></li>
              <li><a href="pdfs/How to Upload Check.pdf" target="_blank">How to Upload Check</a></li>
              <li><a href="pdfs/How to Upload Payment.pdf" target="_blank">How to Upload Payment</a></li>
              <li><a href="pdfs/How to Generate a Voucher.pdf">How to Generate a Voucher</a></li>
              <li><a href="pdfs/How to Validate an Invoice.pdf" target="_blank">How to Validate an Invoice</a></li>
              <li><a href="pdfs/How to Interface Lodging and  Communication Allowance.pdf">How to Interface Lodging and Communication Allowance</a></li>
              <li><a href="pdfs/How to Upload Payment.pdf">How to Upload Payment</a></li>
            </ul>
          </li>

          <!-- General Ledger Dropdown -->
          <li>
            <a href="#" onclick="toggleSubTopics('gl-subtopics', 'arrow-gl'); event.stopPropagation();">
              General Ledger <span id="arrow-gl" class="dropdown-arrow">▼</span>
            </a>
            <ul class="nested-subtopics" id="gl-subtopics">
              <li><a href="pdfs/How to Interface Sales.pdf">How to Interface Sales</a></li>
              <li><a href="pdfs/How to Interface Payroll.pdf">How to Interface Payroll</a></li>
              <li><a href="pdfs/NT_Workflow_User Manual.pdf" target="_blank">NT Workflow User Manual</a></li>
              <li><a href="pdfs/how-to-open-or-close-a-period.pdf" target="_blank">How to Open or Close a period</a></li>
              <li><a href="pdfs/How to Create Accounting.pdf" target="_blank">How to Create Accounting</a></li>
              <li><a href="pdfs/how-to-create-chart-of-account.pdf" target="_blank">How to create Chart of Account</a></li>
            </ul>
          </li>

          <!-- Purchasing Dropdown -->
          <li>
            <a href="#" onclick="toggleSubTopics('purchasing-subtopics', 'arrow-purchasing'); event.stopPropagation();">
              Purchasing <span id="arrow-purchasing" class="dropdown-arrow">▼</span>
            </a>
            <ul class="nested-subtopics" id="purchasing-subtopics">
              <li><a href="pdfs/Creating Purchase Request.pdf" target="_blank">Creating Purchase Request</a></li>
              <li><a href="pdfs/how-to-create-new-store-location.pdf" target="_blank">How to Create New Store Location</a></li>
              <li><a href="pdfs/How to Approve Purchase Request V2.pdf" target="_blank">How to Approve Purchase Request V2</a></li>
              <li><a href="pdfs/How to Approve Purchase Request.pdf" target="_blank">How to Approve Purchase Request</a></li>
              <li><a href="pdfs/How to Auto Create Purchase Order V2.pdf" target="_blank">How to Auto Create Purchase Order V2</a></li>
              <li><a href="pdfs/How to Auto Create Purchase Order.pdf" target="_blank">How to Auto Create Purchase Order</a></li>
              <li><a href="pdfs/How to Close Purchase Request.pdf" target="_blank">How to Close Purchase Request</a></li>
              <li><a href="pdfs/How to Create Purchase Request V2.pdf" target="_blank">How to Create Purchase Request V2</a></li>
              <li><a href="pdfs/How to Create Purchase Request.pdf" target="_blank">How to Create Purchase Request</a></li>
              <li><a href="pdfs/How to Delegate PR Approval V2.pdf" target="_blank">How to Delegate PR Approval V2</a></li>
              <li><a href="pdfs/How to Generate Expenditure Request Form.pdf" target="_blank">How to Generate Expenditure Request Form</a></li>
              <li><a href="pdfs/How to Generate Purchase Request .pdf" target="_blank">How to Generate Purchase Request</a></li>
              <li><a href="pdfs/How to Receive Purchase Request in Oracle.pdf" target="_blank">How to Receive Purchase Request in Oracle</a></li>
              <li><a href="pdfs/How to Return Received Purchase.pdf" target="_blank">How to Return Received Purchase</a></li>
              <li><a href="pdfs/How to Setup a Supplier .pdf" target="_blank">How to Setup a Supplier</a></li>
              <li><a href="pdfs/Receiving Purchase Request.pdf" target="_blank">Receiving Purchase Request</a></li>
            </ul>
          </li>

          <!-- Oracle Guides Dropdown -->
          <li>
            <a href="#" onclick="toggleSubTopics('oracle-guides-subtopics', 'arrow-oracle-guides'); event.stopPropagation();">
              Oracle Guides <span id="arrow-oracle-guides" class="dropdown-arrow">▼</span>
            </a>
            <ul class="nested-subtopics" id="oracle-guides-subtopics">
              <li><a href="pdfs/Mozilla Fix - PDF Automatically downloads when opened through the Helpdesk.pdf" target="_blank">Mozilla Fix - PDF Automatically downloads when open through Helpdesk</a></li>
              <li><a href="pdfs/Rose Pharmacy Helpdesk Source Code Modification Manual.pdf" target="_blank">Rose Pharmacy Helpdesk Source Code Modification Manual</a></li>
              <li><a href="pdfs/ORACLE USER INTERFACE NAVIGATION.pdf" target="_blank">Oracle User Interface Navigation</a></li>
              <li><a href="pdfs/Oracle Interface Guide.pdf" target="_blank">Oracle Interface Guide</a></li>
              <li><a href="pdfs/Oracle Reports Glossary.pdf" target="_blank">Oracle Reports Glossary</a></li>
              <li><a href="pdfs/Other Guides for FBA.pdf" target="_blank">Other Guides for FBA</a></li>
              <li><a href="pdfs/oracle-bugs-and-fixes.pdf" target="_blank">Oracle Bugs and Fixes</a></li>
              <li><a href="pdfs/How to Create New Store Location.pdf" target="_blank">How to Create New Store Location</a></li>
              <li><a href="pdfs/How to Create Oracle User Account .pdf" target="_blank">How to Create User Oracle Account</a></li>
              <li><a href="pdfs/HOW TO LOG-IN TO ORACLE.pdf" target="_blank">How to Login to Oracle</a></li>
              <li><a href="pdfs/How to Reset Oracle Password.pdf" target="_blank">How to Reset Oracle Password</a></li>
              <li><a href="pdfs/User Interface Navigation.pdf" target="_blank">User Interface Navigation</a></li>
            </ul>
          </li>
      </ul>
  </div>

  <!-- Main Title 2: SOP -->
  <div class="main-title" onclick="toggleSubTopics('subtopics-2', 'arrow-2')">
      <img src="Icons/standard-operating-procedures.png" class="icon">
      <span>SOP<span id="arrow-2" class="dropdown-arrow">▼</span></span>
  </div>
  <div class="subtopics-container" id="subtopics-2">
      <ul>
          <!-- Finance Dropdown Added -->
          <li>
            <a href="#" onclick="toggleSubTopics('finance-subtopics', 'arrow-finance'); event.stopPropagation();">
              Finance <span id="arrow-finance" class="dropdown-arrow">▼</span>
            </a>
            <ul class="nested-subtopics" id="finance-subtopics">
              <li><a href="pdfs/How to Generate BIR Form 2307.pdf">How to Generate BIR Form 2307</a></li>
              <li><a href="pdfs/How to Generate Daily Collection Report.pdf">How to Generate Daily Collection Report</a></li>
              <li><a href="pdfs/How to Interface Buying Income.pdf">How to Interface Buying Income</a></li>
              <li><a href="pdfs/How to Interface RTV.pdf">How to Interface RTV</a></li>
              <li><a href="pdfs/How to Setup Bank Account.pdf">How to Setup Bank Account</a></li>
            </ul>
          </li>
          <!-- Treasury remains as a simple link -->
          <li><a href="#" onclick="toggleSubTopics('treasury-subtopics', 'arrow-finance'); event.stopPropagation();">
            Treasury <span id="arrow-treasury" class="dropdown-arrow">▼</span>
          </a>
          <ul class="nested-subtopics" id="treasury-subtopics">
            <li><a href="pdfs/How to Setup Customer.pdf">How to Setup Customer</a></li>
            <li><a href="pdfs/How to Setup Item Code.pdf">How to Setup Item Code </a></li>
            <li><a href="pdfs/How to Setup Quotation.pdf">How to Setup Quotation</a></li>
          </ul>
        </li>
      </ul>
  </div>

  <!-- Main Title 3: BRS -->
  <div class="main-title" onclick="toggleSubTopics('subtopics-3', 'arrow-3')">
    <img src="Icons/reconciliation.png" class="icon">
    <span>BRS<span id="arrow-3" class="dropdown-arrow">▼</span></span>
</div>
<div class="subtopics-container" id="subtopics-3">

</div>

<!-- Main Title 4: Functional Specifications -->
<div class="main-title" onclick="toggleSubTopics('subtopics-4', 'arrow-4')">
  <img src="Icons/design-resources.png" class="icon">
  <span>Functional Specifications<span id="arrow-4" class="dropdown-arrow">▼</span></span>
</div>
<div class="subtopics-container" id="subtopics-4">
  <ul>
      <!-- Accounts Payable and Financial Workflow Enhancements remains as a simple link -->
      <li><a href="#" onclick="toggleSubTopics('AP_Financial-subtopics', 'arrow-finance'); event.stopPropagation();">
        Accounts Payable and Financial Workflow Enhancements <span id="arrow-treasury" class="dropdown-arrow">▼</span>
      </a>
      <ul class="nested-subtopics" id="AP_Financial-subtopics">
        <li><a href="pdfs/AP Invoice Listing.pdf">AP Invoice Listing</a></li>
        <li><a href="pdfs/AP Vendor Interface Enhancement.pdf">AP Vendor Interface Enhancement</a></li>
        <li><a href="pdfs/Auto-Email_PA_2307_NP.pdf">Auto Email PA 2307 NP</a></li>
        <li><a href="pdfs/Service Invoice.pdf">Service Invoice</a></li>
        <li><a href="pdfs/HSBC Pesonet Enhancement.pdf">HSBC PESONET Enhancement</a></li>
        <li><a href="pdfs/Metrobank Online Solution Bank File.pdf">Metrobank Online Solution Bank File</a></li>
        <li><a href="pdfs/Budget Monitoring Workflow.pdf">Budget Monitoring Workflow</a></li>
      </ul>
    </li>
  </ul>
</div>

  <!-- Main Title 5: Process Flow -->
  <div class="main-title" onclick="toggleSubTopics('subtopics-3', 'arrow-3')">
      <img src="Icons/workflow.png" class="icon">
      <span>Process Flow <span id="arrow-3" class="dropdown-arrow">▼</span></span>
  </div>
  <div class="subtopics-container" id="subtopics-3">
      <ul>
          <li><a href="file7.html">Process Step 1</a></li>
          <li><a href="file8.html">Process Step 2</a></li>
      </ul>
  </div>

  <!-- Minimal Polyfills for IE/IE-mode -->
  <script>
    // NodeList.forEach
    if (window.NodeList && !NodeList.prototype.forEach) {
      NodeList.prototype.forEach = Array.prototype.forEach;
    }
    // String.includes
    if (!String.prototype.includes) {
      String.prototype.includes = function(search, start) {
        if (typeof start !== 'number') {
          start = 0;
        }
        if (start + search.length > this.length) {
          return false;
        }
        return this.indexOf(search, start) !== -1;
      };
    }
    // String.endsWith
    if (!String.prototype.endsWith) {
      String.prototype.endsWith = function(searchStr, position) {
        var subjectString = this.toString();
        if (position === undefined || position > subjectString.length) {
          position = subjectString.length;
        }
        position -= searchStr.length;
        var lastIndex = subjectString.indexOf(searchStr, position);
        return lastIndex !== -1 && lastIndex === position;
      };
    }
    // Element.closest
    if (!Element.prototype.closest) {
      Element.prototype.closest = function(s) {
        var el = this;
        do {
          if (el.matches && el.matches(s)) return el;
          el = el.parentElement || el.parentNode;
        } while (el !== null && el.nodeType === 1);
        return null;
      };
    }
  </script>

  <script>
    // Step 1: Expand all parent containers up the chain if subtopic matches
    function expandAllParents(topic) {
      var container = topic.closest(".subtopics-container");
      while (container) {
        container.classList.add("show");
        var arrow = container.previousElementSibling
                     ? container.previousElementSibling.querySelector(".dropdown-arrow")
                     : null;
        if (arrow) {
          arrow.textContent = "▲";
        }
        // Move up to the parent .subtopics-container
        container = container.parentElement ? container.parentElement.closest(".subtopics-container") : null;
      }
    }

    window.searchFunction = function() {
      var input = document.getElementById("search-bar").value.toLowerCase();
      var allTopics = document.querySelectorAll(".main-title, .subtopics-container ul li");

      // 1) Hide or show subtopics based on search, and expand parents for matches
      allTopics.forEach(function(topic) {
        var text = (topic.textContent || topic.innerText).toLowerCase();
        if (text.includes(input) && input !== "") {
          topic.style.display = "block";
          expandAllParents(topic);
        } else if (input === "") {
          // If search is cleared, reset to "block"
          topic.style.display = "block";
        } else {
          topic.style.display = "none";
        }
      });

      // 2) If input is empty, collapse everything
      if (input === "") {
        var allContainers = document.querySelectorAll(".subtopics-container");
        allContainers.forEach(function(container) {
          container.classList.remove("show");
          var title = container.previousElementSibling;
          if (title) { title.classList.remove("icon-left"); }
          var arrow = title ? title.querySelector(".dropdown-arrow") : null;
          if (arrow) { arrow.textContent = "▼"; }
        });
        return;
      }

      // 3) Hide main titles that have zero matching (visible) subtopics
      var mainTitles = document.querySelectorAll(".main-title");
      mainTitles.forEach(function(title) {
        var subtopicsContainer = title.nextElementSibling; // the .subtopics-container
        if (!subtopicsContainer) return;
        var visibleSubtopics = subtopicsContainer.querySelectorAll("li[style*='display: block']");
        // If no subtopics are visible, hide this main title
        if (visibleSubtopics.length === 0) {
          title.style.display = "none";
          subtopicsContainer.classList.remove("show");
        } else {
          // Show main title if it has at least 1 visible subtopic
          title.style.display = "block";
        }
      });
    };

    // On page load, add icons to .pdf links
    document.addEventListener("DOMContentLoaded", function() {
      var links = document.querySelectorAll(".subtopics-container ul li a");
      links.forEach(function(link) {
        if (!link.dataset.iconAdded) {
          if (link.href.endsWith(".pdf")) {
            link.innerHTML = "📄 " + link.innerHTML;
          } else {
            link.innerHTML = "🔗 " + link.innerHTML;
          }
          link.dataset.iconAdded = "true";
        }
      });
    });

    // Dropdown toggle function (unchanged)
    window.toggleSubTopics = function(contentId, arrowId, event) {
      if (event) { event.preventDefault(); }
      var subtopics = document.getElementById(contentId);
      var arrow = document.getElementById(arrowId);
      subtopics.classList.toggle("show");
      if (arrow) {
        arrow.textContent = subtopics.classList.contains("show") ? "▲" : "▼";
      }
    };
  </script>
</body>
</html>
